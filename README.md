# ngnix-to-gateway

| Annotation                                                        | Gateway API support / approach | Notes                                                                                                                                                                        |
| :---------------------------------------------------------------: | :----------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| nginx.ingress.kubernetes.io/affinity                              | yes                            | currently only affinity via Generated Cookie or Client IP affinity are supported - load balancer supports additional approaches but must use standalone NEG approach \[URL\] |
| nginx.ingress.kubernetes.io/allowSnippetAnnotations               | no                             | Google approach (in preview) for customizing load balancer behavior is via Service Extensions \[URL\]                                                                        |
| nginx.ingress.kubernetes.io/auth-response-headers                 | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/auth-signin                           | \-                             | Recommended browser-based authentication approach (if performing at load balancer layer \*instead\* of application) is to use Identity Aware Proxy \[URL\] \[URL\]           |
| nginx.ingress.kubernetes.io/auth-tls-pass-certificate-to-upstream | \-                             | coming next year                                                                                                                                                             |
| nginx.ingress.kubernetes.io/auth-tls-secret                       | \-                             | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/auth-tls-verify-client                | \-                             | mTLS? if so, mTLS is on roadmap for GKE Gateway, but is available today via standalone NEGs; note that frontend mTLS is experimental in OSS Gateway API                      |
| nginx.ingress.kubernetes.io/auth-tls-verify-depth                 | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/auth-url                              | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/backend-protocol                      | yes                            | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/client-header-buffer-size             | no                             | not configurable - limits documented here - \[URL\]                                                                                                                          |
| nginx.ingress.kubernetes.io/cors-allow-credentials                | no\*                           | work underway for native support, but current approach is to utilize custom header capability \[URL\]                                                                        |
| nginx.ingress.kubernetes.io/cors-allow-headers                    | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/cors-allow-methods                    | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/cors-allow-origin                     | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/enable-cors                           | \-                             |                                                                                                                                                                              |
| nginx.ingress.kubernetes.io/enable-websocket                      | yes\*                          | Load Balancer natively supports this - no additional configuration required                                                                                                  |
| nginx.ingress.kubernetes.io/force-ssl-redirect                    | yes                            | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/hsts                                  | yes\*                          | Add custom response headers \[URL\]                                                                                                                                          |
| nginx.ingress.kubernetes.io/large-client-header-buffers           | \-                             | clarify use case                                                                                                                                                             |
| nginx.ingress.kubernetes.io/proxy-body-size                       | \-                             | clarify use case                                                                                                                                                             |
| nginx.ingress.kubernetes.io/proxy-buffer-size                     | \-                             | clarify use case                                                                                                                                                             |
| nginx.ingress.kubernetes.io/proxy-buffers                         | \-                             | clarify use case                                                                                                                                                             |
| nginx.ingress.kubernetes.io/proxy-connect-timeout                 | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/proxy-read-timeout                    | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/proxy-send-timeout                    | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/proxy\_connect\_timeout               | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/proxy\_next\_upstream\_timeout        | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/proxy\_read\_timeout                  | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/proxy\_send\_timeout                  | \-                             | clarify use case - configurable between LB and backend                                                                                                                       |
| nginx.ingress.kubernetes.io/rewrite-target                        | yes                            | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/secure-backends                       | yes\*                          | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/send-timeout                          | yes\*                          | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/service-upstream                      | no                             | not applicable - \[URL\]                                                                                                                                                     |
| nginx.ingress.kubernetes.io/session-cookie-expires                | \-                             | See response for nginx.ingress.kubernetes.io/affinity                                                                                                                        |
| nginx.ingress.kubernetes.io/session-cookie-hash                   | \-                             | See response for nginx.ingress.kubernetes.io/affinity                                                                                                                        |
| nginx.ingress.kubernetes.io/session-cookie-max-age                | \-                             | See response for nginx.ingress.kubernetes.io/affinity                                                                                                                        |
| nginx.ingress.kubernetes.io/session-cookie-name                   | \-                             | See response for nginx.ingress.kubernetes.io/affinity                                                                                                                        |
| nginx.ingress.kubernetes.io/session-cookie-path                   | \-                             | See response for nginx.ingress.kubernetes.io/affinity                                                                                                                        |
| nginx.ingress.kubernetes.io/ssl-ciphers                           | yes                            | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/ssl-passthrough                       | no                             | All Google ALBs (L7) terminate TLS; passthru coming via L4                                                                                                                   |
| nginx.ingress.kubernetes.io/ssl-protocols                         | yes                            | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/ssl-redirect                          | yes                            | \[URL\]                                                                                                                                                                      |
| nginx.ingress.kubernetes.io/upstream-vhost                        | ??                             | nginx specific? clarify use case                                                                                                                                             |
| nginx.ingress.kubernetes.io/use-forwarded-headers                 | yes\*                          | clarify use case - ALBs forward client headers to backend                                                                                                                    |
| nginx.ingress.kubernetes.io/use-http2                             | yes                            | To backend, configure using AppProtocol field in service spec to either HTTP2 or H2C (cleartext); frontend will negotiate to HTTP/2 \[URL\]                                  |
| nginx.ingress.kubernetes.io/use-regex                             | no                             | load balancer supports it via standalone NEGs, but not exposed via GKE Gateway currently - \[URL\]                                                                           |
| nginx.ingress.kubernetes.io/whitelist-source-range                | yes                            | via Cloud Armor integration \[URL\]                                                                                                                                          |
| nginx.ingress.kubernetes.io/x-forwarded-prefix                    | no                             | nginx specific? Inherits behavior of the underlying LB. i.e. \[URL\] / \[URL\]                                                                                               |
